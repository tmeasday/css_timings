<!DOCTYPE html>
<html>
  <head>
    <title>CSS timing experiments</title>
    <%# load all the stylesheets so we are sure sass has compiled them %>
    <%= stylesheet_link_tag :runner, :base, :base_plus_random, :base_plus_general %>
    <%= javascript_include_tag :runner %>
  </head>
  <body>
    <h1>CSS timing experiments</h1>
    <p>
      This is an experiment to measure the performance cost of large CSS files as generated by CSS preprocessors such as SASS + LESS.
      Accepted best practice is to have a single large CSS file with all the styles for your site so that users only need to suffer a download hit once.
      This makes sense, but you are left with a large file with <em>many</em> selectors that do not apply to any specific page.
    </p>
    <p>
      This experiment is designed to test the 'best-case' loading time, when all resources are cached (including html files, which is unrealistic).
      All pages include very simple JS which simply times various loading events (initial load, head loaded, body loaded, onready etc).
    </p>
    
    <table id="experiments">
      <tr>
        <th>Experiment Name</th>
        <th>Description</th>
        <th>Parse Time</th>
        <th>Render Time</th>
      </tr>
      <tr data-experiment="base">
        <th>Base</th>
        <td>10k divs, each with a targeted width style</td>
        <td class="parse">Loading...</td>
        <td class="render">Loading...</td>
      </tr>
      <tr data-experiment="base_plus_random">
        <th>Base Plus Random</th>
        <td>10k divs, each with a targeted width style, plus 10k extraneous styles</td>
        <td class="parse">Loading...</td>
        <td class="render">Loading...</td>
      </tr>
      <tr data-experiment="base_plus_general">
        <th>Base Plus General</th>
        <td>10k divs, each with a targeted width style, plus 10k extraneous styles that target div on the RHS</td>
        <td class="parse">Loading...</td>
        <td class="render">Loading...</td>
      </tr>
    </table>
  </body>
</html>